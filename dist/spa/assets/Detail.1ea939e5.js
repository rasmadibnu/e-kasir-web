import{_ as x,O as Q,r as c,P as _,Q as V,R as v,S as a,$ as t,T as s,Z as f,W as d,V as r,B as C}from"./index.8a61695e.js";import{a as m,Q as h}from"./QCard.b11d0a6e.js";import{h as k,Q as S,d as b,a as $}from"./moment.ef2cf31d.js";import{Q as D,a as w,b as T,c as g}from"./QTabPanels.ee135b9d.js";import{m as B,j as Y}from"./QDialog.a3d2e9f2.js";import{Q as A}from"./QTd.55ae123c.js";import{Q as M}from"./QInput.d7cd4427.js";import{Q as N,C as q}from"./ClosePopup.651837a9.js";import{_ as I}from"./VxIcon.632b9159.js";import"./use-key-composition.b096f1b1.js";import"./touch.c21b0855.js";const P=Q({props:["user"],components:{VxIcon:I},setup(){return{columns:[{name:"index",label:"#",align:"center"},{name:"action",label:"Action",align:"left",field:"type",sortable:!0},{name:"value",label:"Value",align:"left",field:"value",sortable:!0},{name:"stok",label:"Stok",align:"left",field:"stok",sortable:!0},{name:"ca",label:"At",align:"left",field:"created_at",format:l=>k(l).format("YYYY-MM-DD hh:mm:ss"),sortable:!0},{name:"by",label:"By",align:"left",field:l=>l.user_create.name,sortable:!0}],moment:k,produk:c(null),tab:c("table"),confirm:c(!1),new_stok:c()}},mounted(){this.getData()},methods:{getData(){this.$api.get("/produk/"+this.$route.params.id).then(e=>{this.produk=e.data.data})},submit(){this.loading=!0;var e=[];e.push({produk_id:this.produk.id,stok:this.produk.stok.stok+this.new_stok,value:this.new_stok,type:"Re-Stok",created_by:this.user.id}),this.$api.post("/stoks",e).then(l=>{this.$q.notify({message:"Stok successfully updated",color:"positive"}),this.confirm=!1,this.new_stok=c(),this.getData()}).catch(l=>{console.log(l)})}}}),U={class:"tw-flex tw-items-center"},L=t("div",{class:"tw-text-xl tw-font-semibold"},"Back",-1),R={class:"tw-text-lg"},z=t("td",{class:"text-left"},"Kategori",-1),j=t("td",{class:"text-left"},":",-1),H={class:"text-left"},W=t("td",{class:"text-left"},"Supplier",-1),K=t("td",{class:"text-left"},":",-1),O={class:"text-left"},Z=t("td",{class:"text-left"},"Harga",-1),E=t("td",{class:"text-left"},":",-1),F={class:"text-left"},G=t("td",{class:"text-left"},"Created By",-1),J=t("td",{class:"text-left"},":",-1),X={class:"text-left"},tt=t("td",{class:"text-left"},"Stok",-1),et=t("td",{class:"text-left"},":",-1),st={class:"text-left"},ot=t("td",{class:"text-left"},"Last Update Stok",-1),at=t("td",{class:"text-left"},":",-1),lt={class:"text-left"},nt=t("td",{class:"text-left"},"Last Stok Action",-1),dt=t("td",{class:"text-left"},":",-1),rt={class:"text-left"},it=t("td",{class:"text-left"},"Created At",-1),ut=t("td",{class:"text-left"},":",-1),ct={class:"text-left"},mt=t("div",{class:"tw-text-lg tw-mb-2"},"History Stok",-1),ft={class:"text-h6 tw-flex tw-items-center"},pt={class:"tw-mb-3"};function _t(e,l,ht,kt,bt,wt){const p=_("vx-icon"),y=_("VxIcon");return V(),v(S,{class:"tw-p-4 tw-space-y-6"},{default:a(()=>[t("div",U,[s(f,{"no-caps":"",dense:"",flat:"",to:{name:e.$route.params.from}},{default:a(()=>[s(p,{iconName:"ArrowLeft2",size:24}),L]),_:1},8,["to"])]),s(h,{flat:""},{default:a(()=>[s(m,{class:"tw-flex tw-justify-between"},{default:a(()=>{var o;return[t("div",R,d((o=e.produk)==null?void 0:o.name),1),s(f,{"no-caps":"",outline:"",color:"primary",onClick:l[0]||(l[0]=n=>e.confirm=!0)},{default:a(()=>[s(p,{iconName:"BoxAdd",class:"tw-mr-2",size:18}),r(" Re-Stok ")]),_:1})]}),_:1}),s(m,{class:"q-pt-none tw-grid tw-grid-cols-2"},{default:a(()=>[s(b,{flat:"",separator:"none",dense:"","wrap-cells":!0},{default:a(()=>{var o,n,i,u;return[t("tbody",null,[t("tr",null,[z,j,t("td",H,d((o=e.produk)==null?void 0:o.kategori.name),1)]),t("tr",null,[W,K,t("td",O,d((n=e.produk)==null?void 0:n.supplier.name),1)]),t("tr",null,[Z,E,t("td",F,d((i=e.produk)==null?void 0:i.harga_rp),1)]),t("tr",null,[G,J,t("td",X,d((u=e.produk)==null?void 0:u.user_create.name),1)])])]}),_:1}),s(b,{flat:"",separator:"none",dense:"","wrap-cells":!0},{default:a(()=>{var o,n,i,u;return[t("tbody",null,[t("tr",null,[tt,et,t("td",st,d((o=e.produk)==null?void 0:o.stok.stok),1)]),t("tr",null,[ot,at,t("td",lt,d((n=e.produk)==null?void 0:n.stok.user_create.name),1)]),t("tr",null,[nt,dt,t("td",rt,d((i=e.produk)==null?void 0:i.stok.type),1)]),t("tr",null,[it,ut,t("td",ct,d(e.moment((u=e.produk)==null?void 0:u.created_at).format("YYYY-MM-DD hh:mm:ss")),1)])])]}),_:1})]),_:1}),s(m,{class:"q-pt-none"},{default:a(()=>[mt,s(D,{"no-caps":"",modelValue:e.tab,"onUpdate:modelValue":l[1]||(l[1]=o=>e.tab=o),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"left","narrow-indicator":""},{default:a(()=>[s(w,{name:"table",label:"Table"}),s(w,{name:"chart",label:"Chart"})]),_:1},8,["modelValue"]),s(B),s(T,{modelValue:e.tab,"onUpdate:modelValue":l[2]||(l[2]=o=>e.tab=o),animated:""},{default:a(()=>[s(g,{name:"table"},{default:a(()=>{var o;return[s($,{flat:"",rows:(o=e.produk)==null?void 0:o.history_stok,columns:e.columns},{"body-cell-index":a(n=>[s(A,{props:n},{default:a(()=>[r(d(n.rowIndex+1),1)]),_:2},1032,["props"])]),_:1},8,["rows","columns"])]}),_:1}),s(g,{name:"chart"},{default:a(()=>[r(" Lorem ipsum dolor sit amet consectetur adipisicing elit. ")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),s(Y,{modelValue:e.confirm,"onUpdate:modelValue":l[4]||(l[4]=o=>e.confirm=o)},{default:a(()=>[s(h,{style:{width:"400px"}},{default:a(()=>[s(m,null,{default:a(()=>[t("div",ft,[s(y,{iconName:"Warning2",class:"tw-mr-2",size:22}),r(" Re-Stok ")])]),_:1}),s(m,{class:"q-py-none"},{default:a(()=>{var o;return[t("div",pt,[r(" Anda yakin ingin mengupdate stok "),t("b",null,d((o=e.produk)==null?void 0:o.name),1),r("? ")]),s(M,{filled:"",rules:[n=>!!n||"This field required"],label:"Stok",modelValue:e.new_stok,"onUpdate:modelValue":l[3]||(l[3]=n=>e.new_stok=n),modelModifiers:{number:!0}},null,8,["rules","modelValue"])]}),_:1}),s(N,{align:"right"},{default:a(()=>[C(s(f,{flat:"",label:"Cancel","no-caps":""},null,512),[[q]]),s(f,{flat:"",label:"Yes",color:"primary","no-caps":"",onClick:e.submit},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var Bt=x(P,[["render",_t]]);export{Bt as default};
