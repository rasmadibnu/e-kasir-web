import{Q as m}from"./QImg.2484ee0e.js";import{_ as p,O as u,r,P as c,Q as f,X as w,$ as t,T as s,S as n,an as _,ap as g,Z as h}from"./index.6a46384e.js";import{a as v,Q as d}from"./QForm.fef47790.js";import{_ as y,Q as b,b as $}from"./VxIcon.9b935379.js";import{u as k}from"./auth.00b350e1.js";var Q="/assets/undraw_empty_cart.2259c300.svg";const V=u({components:{VsxIcon:y},setup(){return{auth:k(),is_password:r(!0),username:r(""),password:r(""),loading:r(!1)}},mounted(){sessionStorage.getItem("access_token")&&this.$router.push({name:"Home"})},methods:{login(){let e=this;e.loading=!0;let a={username:this.username,password:this.password};e.$api.post("/login",a).then(function(i){sessionStorage.setItem("access_token",i.data.data),e.auth.token=i.data.data,e.auth.user.role!="Kasir"?e.$router.push({name:"Home"}):(e.$q.notify({type:"negative",message:"User dengan role Kasir tidak memiliki akses pada web ini"}),sessionStorage.removeItem("access_token")),e.loading=!1}).catch(i=>{e.loading=!1,e.$q.notify({type:"negative",message:i.response.data.message})})}}}),x={class:"tw-grid tw-grid-cols-2 tw-h-screen tw-font-['Poppins']"},S={class:"bg-primary text-white tw-flex"},I={class:"tw-m-auto"},C=t("h1",{class:"text-center tw-text-2xl tw-font-semibold"},"E-Kasir WebApp",-1),q=t("p",{class:"text-center tw-text-lg tw-mt-4"},"Kelompok 6",-1),N={class:"tw-flex"},U={class:"tw-m-auto"},B=t("div",null,[t("div",{class:"tw-text-2xl tw-font-semibold"},"Welcome"),t("div",null,"Please login into an account")],-1);function E(e,a,i,K,P,z){const l=c("VsxIcon");return f(),w("div",x,[t("div",S,[t("div",I,[C,s(_,{size:"400px",square:""},{default:n(()=>[s(m,{src:Q})]),_:1}),q])]),t("div",N,[t("div",U,[s(b,{class:"tw-w-96",flat:""},{default:n(()=>[s($,{class:"tw-space-y-4"},{default:n(()=>[B,s(v,{onSubmit:g(e.login,["prevent"]),class:"tw-space-y-2"},{default:n(()=>[s(d,{filled:"",label:"Username",rules:[o=>!!o||"This field is required"],modelValue:e.username,"onUpdate:modelValue":a[0]||(a[0]=o=>e.username=o)},{prepend:n(()=>[s(l,{iconName:"User",size:22})]),_:1},8,["rules","modelValue"]),s(d,{filled:"",label:"Password",type:e.is_password?"password":"texe",rules:[o=>!!o||"This field is required"],modelValue:e.password,"onUpdate:modelValue":a[2]||(a[2]=o=>e.password=o)},{prepend:n(()=>[s(l,{class:"tw-cursor-pointer",onClick:a[1]||(a[1]=o=>e.is_password=!e.is_password),iconName:e.is_password?"Eye":"EyeSlash",size:22},null,8,["iconName"])]),_:1},8,["type","rules","modelValue"]),s(h,{type:"submit",unelevated:"",color:"primary",label:"Login",class:"tw-w-full",loading:e.loading},null,8,["loading"])]),_:1},8,["onSubmit"])]),_:1})]),_:1})])])])}var F=p(V,[["render",E]]);export{F as default};
